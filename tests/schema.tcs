//-*- mode: JavaScript -*-

definitions
{
    foo.properties.required
    {
        a.value: "FOO"
        b: "number"
    }

    bar.properties.required
    {
        a.value: "BAR"
        c: "string"
    }

    baz.properties
    {
        required
        {
            a.value: "BAZ"
            c: "integer"
            e: "integer"
        }
        optional
        {
            d: "null"
        }
    }
}

all_of
[
    { property.a.istring: [ "fOo", "BaR", "bAz" ] }
    { if.property.a.istring: "Foo" then: "foo" }
    { if.property.a.istring: "Bar" then: "bar" }
    { if.property.a.istring: "Baz" then: "baz" }
]

// TODO: short-cut for: { foo: [ { items: "ref" }, { properties.additional: "ref" } ] }
